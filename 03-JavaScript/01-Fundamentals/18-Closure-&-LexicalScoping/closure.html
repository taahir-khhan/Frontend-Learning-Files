<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Closure</title>
  </head>
  <body style="background-color: #212121; color: #fff">
    <button id="chocolate">Chocolate</button>
    <button id="yellow">Yellow</button>
    <button id="green">green</button>
    <button id="white">white</button>
    <button id="blue">blue</button>
    <button id="pink">Pink</button>
  </body>
  <script>
    // 1) Lexical Scoping

    //  function outer() {
    //    let name = "Closure";

    //    function inner() {
    //      let age = 20;
    //      console.log(`Inner: ${name}`);
    //    }
    //    function inner2() {
    //      let name = "Jo bhi";
    //      console.log(`Inner2: ${name}`);
    //    }
    //    inner();
    //    inner2();
    //  }

    //  outer();
    //  console.log(`Outer: ${name}`);

    // 2) Closure

    //  function user() {
    //    let name = "Random";
    //    function innerUser() {
    //      console.log(name);
    //    }
    //    return innerUser;
    //  }

    //  let client = user();
    //  client();

    // Real world scenario, if we click the button it changes the bg-color of body.

    // The below code solution is an easy task, imagine if there are 1000 buttons, can you write the below  code 1000 times.

    //  document.getElementById("chocolate").onclick = function () {
    //    document.body.style.backgroundColor = `chocolate`;
    //  };

    //  document.getElementById("yellow").onclick = function () {
    //    document.body.style.backgroundColor = `yellow`;
    //  };

    // Solution

    function changeColor(color) {
      return function () {
        document.body.style.backgroundColor = `${color}`;
      };
    }

    const buttons = document.querySelectorAll("button");

    for (let i = 0; i < buttons.length; i++) {
      document.getElementById(`${buttons[i].id}`).onclick = changeColor(
        `${buttons[i].id}`
      );
    }
  </script>
</html>
